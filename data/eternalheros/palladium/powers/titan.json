{
  "name": "Titan of Darkness",
  "persistent_data": true,
  "background": "minecraft:textures/block/black_concrete.png",
  "icon": "minecraft:end_crystal",
  "gui_display_type": "list",

  "abilities": {
    "identity": {
      "type": "palladium:dummy",
      "icon": "minecraft:end_crystal",
      "title": "Titan of Darkness",
      "description": "An unstoppable avatar born from the void. Power unrivaled, yet shackled to the night.",
      "hidden": false,
      "hidden_in_bar": true,
      "gui_position": [0, 0]
    },

    "void_exile": {
      "type": "palladium:command",
      "hidden": true,
      "hidden_in_bar": true,
      "first_tick_commands": [
        "tag @s add titan_dark"
      ],
      "commands": [
        "execute unless predicate eternalheros:in_darkness run title @s actionbar {\"text\":\"Light unravels your form!\",\"color\":\"red\"}",
        "execute unless predicate eternalheros:in_darkness run playsound minecraft:entity.wither.death master @s ~ ~ ~ 1 1.2",
        "execute unless predicate eternalheros:in_darkness run damage @s 200 minecraft:out_of_world"
      ],
      "last_tick_commands": [
        "tag @s remove titan_dark"
      ]
    },

    "void_shroud": {
      "type": "palladium:command",
      "hidden": true,
      "hidden_in_bar": true,
      "commands": [
        "effect give @s minecraft:strength 6 4 true",
        "effect give @s minecraft:resistance 6 3 true",
        "effect give @s minecraft:speed 6 1 true",
        "effect give @s minecraft:regeneration 6 2 true",
        "effect give @s minecraft:night_vision 12 0 true"
      ],
      "last_tick_commands": [
        "effect clear @s minecraft:strength",
        "effect clear @s minecraft:resistance",
        "effect clear @s minecraft:speed",
        "effect clear @s minecraft:regeneration",
        "effect clear @s minecraft:night_vision"
      ],
      "conditions": {
        "enabling": [
          {
            "type": "palladium:brightness_at_position",
            "min_brightness": 0,
            "max_brightness": 3
          }
        ]
      }
    },

    "colossal_form": {
      "type": "palladium:size",
      "hidden": true,
      "hidden_in_bar": true,
      "scale": 3.5,
      "conditions": {
        "enabling": [
          {
            "type": "palladium:brightness_at_position",
            "min_brightness": 0,
            "max_brightness": 3
          }
        ]
      }
    },

    "titan_strength": {
      "type": "palladium:attribute_modifier",
      "hidden": true,
      "hidden_in_bar": true,
      "attribute": "minecraft:generic.attack_damage",
      "amount": 24,
      "uuid": "5a5bb7a2-3b65-4da1-8e66-7af4ce6dcb11",
      "conditions": {
        "enabling": [
          {
            "type": "palladium:brightness_at_position",
            "min_brightness": 0,
            "max_brightness": 3
          }
        ]
      }
    },

    "titan_resilience": {
      "type": "palladium:attribute_modifier",
      "hidden": true,
      "hidden_in_bar": true,
      "attribute": "minecraft:generic.armor",
      "amount": 16,
      "uuid": "6d8f5e90-1209-4dfd-9fb2-9f9a2bdd7c21",
      "conditions": {
        "enabling": [
          {
            "type": "palladium:brightness_at_position",
            "min_brightness": 0,
            "max_brightness": 3
          }
        ]
      }
    },

    "titan_health": {
      "type": "palladium:attribute_modifier",
      "hidden": true,
      "hidden_in_bar": true,
      "attribute": "minecraft:generic.max_health",
      "amount": 40,
      "uuid": "3c4aa92d-ead1-4e18-8c7b-58b1ad2ffec7",
      "conditions": {
        "enabling": [
          {
            "type": "palladium:brightness_at_position",
            "min_brightness": 0,
            "max_brightness": 3
          }
        ]
      }
    },

    "titan_steadfast": {
      "type": "palladium:attribute_modifier",
      "hidden": true,
      "hidden_in_bar": true,
      "attribute": "minecraft:generic.knockback_resistance",
      "amount": 1.0,
      "uuid": "79a73f8c-0638-4e03-9dfc-0f8c0f40f0d5",
      "conditions": {
        "enabling": [
          {
            "type": "palladium:brightness_at_position",
            "min_brightness": 0,
            "max_brightness": 3
          }
        ]
      }
    },

    "metaphysical_laser": {
      "type": "palladium:energy_beam",
      "icon": "minecraft:nether_star",
      "title": "Metaphysical Laser",
      "description": "Channel a condensed void pulse that eradicates foes and scours the landscape.",
      "bar_color": "purple",
      "damage": 30,
      "damage_type": "minecraft:generic",
      "max_distance": 48,
      "speed": 0.0,
      "commands_on_block_hit": [
        "setblock ~ ~ ~ minecraft:air destroy",
        "particle minecraft:smoke ~ ~ ~ 0.1 0.1 0.1 0 6",
        "playsound minecraft:entity.generic.explode master @a ~ ~ ~ 0.7 0.8"
      ],
      "commands_on_entity_hit": [],
      "conditions": {
        "enabling": [
          {
            "type": "palladium:and",
            "conditions": [
              {
                "type": "palladium:brightness_at_position",
                "min_brightness": 0,
                "max_brightness": 3
              },
              {
                "type": "palladium:action",
                "cooldown": 160,
                "key_type": "key_bind",
                "needs_empty_hand": false
              }
            ]
          }
        ]
      }
    },

    "nocturne_bulwark": {
      "type": "palladium:command",
      "title": "Nocturne Bulwark",
      "description": "Cocoon yourself in void wings to regenerate rapidly, at the cost of all offensive power.",
      "icon": "minecraft:elytra",
      "bar_color": "blue",
      "first_tick_commands": [
        "playsound minecraft:entity.ender_dragon.flap master @s ~ ~ ~ 1.2 0.5",
        "title @s actionbar {\"text\":\"Bulwark deployed\",\"color\":\"dark_purple\"}"
      ],
      "commands": [
        "effect give @s minecraft:regeneration 2 4 true",
        "effect give @s minecraft:resistance 2 4 true",
        "effect give @s minecraft:absorption 2 9 true",
        "effect give @s minecraft:slowness 2 1 true",
        "effect give @s minecraft:weakness 2 4 true"
      ],
      "last_tick_commands": [
        "effect clear @s minecraft:regeneration",
        "effect clear @s minecraft:resistance",
        "effect clear @s minecraft:absorption",
        "effect clear @s minecraft:slowness",
        "effect clear @s minecraft:weakness",
        "title @s actionbar {\"text\":\"Bulwark released\",\"color\":\"gray\"}"
      ],
      "conditions": {
        "enabling": [
          {
            "type": "palladium:and",
            "conditions": [
              {
                "type": "palladium:brightness_at_position",
                "min_brightness": 0,
                "max_brightness": 3
              },
              {
                "type": "palladium:toggle",
                "key_type": "key_bind",
                "cooldown": 20,
                "needs_empty_hand": false
              }
            ]
          }
        ]
      }
    },

    "bulwark_nullifier": {
      "type": "palladium:attribute_modifier",
      "hidden": true,
      "hidden_in_bar": true,
      "attribute": "minecraft:generic.attack_damage",
      "amount": -40,
      "uuid": "e2b3d123-47f8-4a9f-b1e3-87d2b6f6b9c5",
      "conditions": {
        "enabling": [
          {
            "type": "palladium:ability_enabled",
            "ability": "nocturne_bulwark"
          }
        ]
      }
    },

    "umbra_crash": {
      "type": "palladium:command",
      "title": "Umbra Crash",
      "description": "Drive your massive form into the ground, unleashing a void shockwave.",
      "icon": "minecraft:obsidian",
      "bar_color": "black",
      "commands": [
        "execute unless predicate eternalheros:in_darkness run title @s actionbar {\"text\":\"The void recoil without shadows.\",\"color\":\"red\"}",
        "execute if predicate eternalheros:in_darkness run playsound minecraft:entity.ender_dragon.growl master @a ~ ~ ~ 1.3 0.8",
        "execute if predicate eternalheros:in_darkness run particle minecraft:portal ~ ~1 ~ 2 0.4 2 0.05 80",
        "execute if predicate eternalheros:in_darkness positioned ~ ~-1 ~ as @e[type=!minecraft:item,type=!minecraft:experience_orb,type=!minecraft:armor_stand,tag=!titan_dark,distance=..8] run damage @s 18 minecraft:generic",
        "execute if predicate eternalheros:in_darkness positioned ~ ~-1 ~ as @e[type=!minecraft:item,type=!minecraft:experience_orb,type=!minecraft:armor_stand,tag=!titan_dark,distance=..8] run effect give @s minecraft:levitation 1 1 true"
      ],
      "conditions": {
        "enabling": [
          {
            "type": "palladium:and",
            "conditions": [
              {
                "type": "palladium:brightness_at_position",
                "min_brightness": 0,
                "max_brightness": 3
              },
              {
                "type": "palladium:action",
                "cooldown": 120,
                "key_type": "key_bind",
                "needs_empty_hand": false
              }
            ]
          }
        ]
      }
    }
  }
}

